# 排序算法总结

## 比较排序

### 插入排序

```java
public class InsertSort {
    public static void sort(int[] arr) {
        for (int i = 1; i < arr.length; i++) {
            for (int j = i; j > 0 && arr[j] < arr[j - 1]; j--) {
                int temp = arr[j];
                arr[j] = arr[j - 1];
                arr[j - 1] = temp;
            }
        }
    }

    public static void main(String[] args) {
        int[] arr = {9, 8, 7, 6, 5, 4, 3, 2, 1};
        sort(arr);
        System.out.println(Arrays.toString(arr));
    }
}
```

### 选择排序

```java
public class SelectionSort {
    public static void sort(int[] arr) {
        for (int i = 0; i < arr.length; i++) {
            int minIndex = i;
            for (int j = i + 1; j < arr.length; j++) {
                minIndex = arr[j] < arr[minIndex] ? j : minIndex;
            }
            int temp = arr[i];
            arr[i] = arr[minIndex];
            arr[minIndex] = temp;
        }
    }

    public static void main(String[] args) {
        int[] arr = {9, 8, 7, 6, 5, 4, 3, 2, 1};
        sort(arr);
        System.out.println(Arrays.toString(arr));
    }
}
```

### 冒泡排序

```java
public class BubbleSort {
    public static void sort(int[] arr) {
        for (int i = 0; i < arr.length; i++) {
            for (int j = arr.length - 1; j > i; j--) {
                if (arr[j] < arr[j - 1]) {
                    int temp = arr[j];
                    arr[j] = arr[j - 1];
                    arr[j - 1] = temp;
                }
            }
        }
    }

    public static void main(String[] args) {
        int[] arr = {9, 8, 7, 6, 5, 4, 3, 2, 1};
        sort(arr);
        System.out.println(Arrays.toString(arr));
    }
}
```

### 希尔排序

```java
public class ShellSort {
    public static void sort(int[] arr) {
        for (int gap = arr.length >> 1; gap > 0; gap >>= 1) {
            for (int i = gap; i < arr.length; i++) {
                for (int j = i; j > gap - 1; j -= gap) {
                    if (arr[j] < arr[j - gap]) {
                        int temp = arr[j];
                        arr[j] = arr[j - gap];
                        arr[j - gap] = temp;
                    }
                }
            }
        }
    }

    public static void main(String[] args) {
        int[] arr = {9, 8, 7, 6, 5, 4, 3, 2, 1};
        sort(arr);
        System.out.println(Arrays.toString(arr));
    }
}
```

### 归并排序

```java
public class QuickSort_Align {
    public static void sort(int[] arr) {
        if (arr == null || arr.length < 2) return;
        process(arr, 0, arr.length - 1);
    }

    public static void process(int[] arr, int l, int r) {
        if (l >= r) return;
        final int[] part = partition(arr, l, r);
        process(arr, l, part[0]);
        process(arr, part[1], r);
    }

    public static int[] partition(int[] arr, int l, int r) {
        if (l > r) return new int[]{-1, -1};
        if (l == r) return new int[]{l, r};
        int lt = l - 1, gt = r, cur = l;
        while (cur < gt) {
            if (arr[cur] < arr[r]) {
                swap(arr, cur++, ++lt);
            } else if (arr[cur] > arr[r]) {
                swap(arr, cur, --gt);
            } else {
                cur++;
            }
        }
        swap(arr, gt, r);
        return new int[]{lt, gt + 1};
    }

    public static void swap(int[] arr, int i, int j) {
        int temp = arr[i];
        arr[i] = arr[j];
        arr[j] = temp;
    }

    public static void main(String[] args) {
        final int[] arr = IntStream.generate(() -> (int) (Math.random() * 100000))
                .limit(10000000)
                .toArray();
        int[] a1 = arr.clone();
        int[] a2 = arr.clone();
        sort(a1);
        Arrays.sort(a2);
        System.out.println(Arrays.equals(a1, a2));
    }
}
```

### 堆排序

```java
public class HeapSort {
    public static void sort(int[] arr) {
        if (arr == null || arr.length < 2) return;
        int heapSize = arr.length;
        for (int i = arr.length - 1; i >= 0; i--) {
            heapify(arr, i, heapSize);
        }
        swap(arr, 0, --heapSize);
        while (heapSize > 0) {
            heapify(arr, 0, heapSize);
            swap(arr, 0, --heapSize);
        }
    }

    public static void heapify(int[] arr, int index, int heapSize) {
        int l = index * 2 + 1;
        while (l < heapSize) {
            int largest = l + 1 < heapSize && arr[l + 1] > arr[l] ? l + 1 : l;
            largest = arr[largest] > arr[index] ? largest : index;
            if (largest == index) return;
            swap(arr, index, largest);
            index = largest;
            l = index * 2 + 1;
        }
    }

    private static void swap(int[] arr, int i, int j) {
        int temp = arr[i];
        arr[i] = arr[j];
        arr[j] = temp;
    }

    public static void main(String[] args) {
        int[] arr = {9, 8, 7, 6, 5, 4, 3, 2, 1};
        sort(arr);
        System.out.println(Arrays.toString(arr));
    }
}
```

## 非比较排序

### 桶排序

### 计数排序

```java
public class CountSort {
    public static void sort(int[] arr, int start, int end) {
        if (arr == null || arr.length < 2) return;
        int[] bucket = new int[end - start + 1];
        for (int i = 0; i < arr.length; i++) {
            bucket[arr[i] - start]++;
        }
        int index = 0;
        for (int i = 0; i < bucket.length; i++) {
            while (bucket[i]-- > 0) {
                arr[index++] = i + start;
            }
        }
    }

    public static void main(String[] args) {
        int[] arr = {0, 9, 8, 7, 6, 5, 4, 3, 2, 1};
        sort(arr, 0, 9);
        System.out.println(Arrays.toString(arr));
    }
}
```

### 基数排序

```java
public class RadixSortAlign {
    public static void sort(int[] arr) {
        if (arr == null || arr.length < 2) return;
        int max = arr[0];
        for (int i = 1; i < arr.length; i++) {
            max = Math.max(max, arr[i]);
        }
        int digit = 0;
        while (max != 0) {
            digit++;
            max /= 10;
        }
        radixSort(arr, digit);
    }

    public static void radixSort(int[] arr, int digit) {
        final int radix = 10;
        int[] temp = new int[arr.length];
        for (int d = 0; d < digit; d++) {
            int[] count = new int[radix];
            for (int i = 0; i < arr.length; i++) {
                count[getDigit(arr[i], d)]++;
            }
            for (int i = 1; i < count.length; i++) {
                count[i] = count[i] + count[i - 1];
            }
            for (int i = arr.length - 1; i >= 0; i--) {
                temp[--count[getDigit(arr[i], d)]] = arr[i];
            }
            System.arraycopy(temp, 0, arr, 0, temp.length);
        }
    }

    public static int getDigit(int num, int digit) {
        return num / (int) Math.pow(10, digit) % 10;
    }

    public static void main(String[] args) {
        int[] arr = {0, 9, 8, 7, 6, 5, 4, 3, 2, 1};
        sort(arr);
        System.out.println(Arrays.toString(arr));
    }
}
```