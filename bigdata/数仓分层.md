# 数仓分层

## 基础分层

1. ODS (Operational Data Store)层:  源数据层/数据运营层
	* 作用: 对接数据源, 和数据源的数据保持相同的粒度(将数据源的数据完整的拷贝到ODS层中)
	* 注意:
		* 如果数据来源于文本文件, 可能会需要先对这些文本文件进行预处理(spark)操作, 将其中不规则的数据, 不完整的数据, 脏乱差的数据先过滤掉, 将其转换为一份结构化的数据, 然后灌入到ODS层
2. DW (Data Warehouse)层:   数据仓库层
	* 作用:  进行数据分析的操作
    1. DWD (Data Warehouse Details)层: 明细层
        * 作用: 用于对ODS层数据进行清洗转换工作 , 以及进行少量的维度退化操作
        * 少量: 
            1. 将多个事实表的数据合并为一个事实表操作
            2. 如果维度表放置在ODS层 一般也是在DWD层完成维度退化
    2. DWM (Data Warehouse Middle)层: 中间层
        * 作用:  
            1. 用于进行维度退化操作
            2. 用于进行提前聚合操作(周期快照事实表)
    3. DWS (Data Warehouse Service)层: 业务层
        作用: 进行细化维度统计分析操作
3. DA/ADS (Data Service/Application Data Service)层:    数据应用层
	* 作用: 存储DW层分析的结果, 用于对接后续的应用(图表, 推荐系统...)